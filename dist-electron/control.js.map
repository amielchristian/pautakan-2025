{"version":3,"file":"control.js","sources":["../src/ControlView.tsx","../src/control.tsx"],"sourcesContent":["import './App.css';\r\nimport { useEffect, useState } from 'react';\r\nimport { College } from './types';\r\n\r\nexport default function ControlView() {\r\n  const [colleges, setColleges] = useState<College[]>([]);\r\n  // const [leaderboard, setLeaderboard] = useState<College[]>([]);\r\n  const [difficulty, setDifficulty] = useState('Easy');\r\n  const [category, setCategory] = useState('Eliminations');\r\n\r\n  // Load colleges\r\n  useEffect(() => {\r\n    const getColleges = async () => {\r\n      setColleges(await window.ipcRenderer.invoke('get-colleges'));\r\n    };\r\n    console.log('Getting colleges...');\r\n    getColleges();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const changeCategory = async () => {\r\n      await window.ipcRenderer.invoke('change-category', category);\r\n    };\r\n    changeCategory();\r\n  }, [category]);\r\n\r\n  useEffect(() => {\r\n    const changeDifficulty = async () => {\r\n      await window.ipcRenderer.invoke('change-difficulty', difficulty);\r\n    };\r\n    changeDifficulty();\r\n  }, [difficulty]);\r\n\r\n  // Update colleges on change\r\n  // ...then sync to DB\r\n  async function updateScore(college: College, offset: number) {\r\n    const collegeUpdated = { ...college, score: college.score + offset };\r\n    setColleges(\r\n      colleges.map((x: College) =>\r\n        x.name === collegeUpdated.name ? collegeUpdated : x\r\n      )\r\n    );\r\n    await window.ipcRenderer.invoke(\r\n      'update-college-score',\r\n      collegeUpdated.shorthand,\r\n      collegeUpdated.score\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className='w-screen h-screen justify-center items-center flex flex-col'>\r\n      <div className='h-1/10 w-4/5 flex flex-col'>\r\n        <div className='flex flex-row bg-gray-300 w-full justify-evenly'>\r\n          <Dropdown\r\n            options={['Eliminations', 'Finals']}\r\n            onChange={(selected) => {\r\n              setCategory(selected);\r\n            }}\r\n          />\r\n          <Dropdown\r\n            options={[\r\n              'Easy',\r\n              'Average',\r\n              'Difficult',\r\n              'Clincher',\r\n              'Sudden Death',\r\n            ]}\r\n            onChange={(selected) => {\r\n              setDifficulty(selected);\r\n            }}\r\n          />\r\n          <button>Reset Scores</button>\r\n          <button>Refresh</button>\r\n        </div>\r\n        <div className='bg-gray-300 h-1/4 sharp-edge-box [--bottom-left:2.5px] [--bottom-right:2.5px]'></div>\r\n      </div>\r\n\r\n      <div className='h-4/5 w-3/5 mx-[20%]'>\r\n        <table className='w-full h-full'>\r\n          <thead>\r\n            <tr>\r\n              <th>Rank</th>\r\n              <th>College</th>\r\n              <th>Score</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {colleges.map((college: College, index: number) => (\r\n              <tr>\r\n                <td>{index + 1}</td>\r\n                <td>{college.name}</td>\r\n                <td>\r\n                  <div className='flex flex-row space-x-4'>\r\n                    <span>{college.score}</span>\r\n                    <ScoreButton\r\n                      college={college}\r\n                      add={false}\r\n                      difficulty={difficulty}\r\n                      updateScore={updateScore}\r\n                    />\r\n                    <ScoreButton\r\n                      college={college}\r\n                      add={true}\r\n                      difficulty={difficulty}\r\n                      updateScore={updateScore}\r\n                    />\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className='h-1/10 bg-gray-300 flex flex-row p-4 space-x-[1%]'>\r\n        <button>Show Leaderboard</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ScoreButton({\r\n  college,\r\n  add,\r\n  difficulty,\r\n  updateScore,\r\n}: {\r\n  college: College;\r\n  add: boolean;\r\n  difficulty: string;\r\n  updateScore: (college: College, offset: number) => void;\r\n}) {\r\n  const changeScore = () => {\r\n    let offset: number;\r\n    switch (difficulty) {\r\n      case 'Easy':\r\n        offset = 5;\r\n        break;\r\n      case 'Average':\r\n        offset = 10;\r\n        break;\r\n      case 'Difficult':\r\n        offset = 15;\r\n        break;\r\n      default:\r\n        offset = 1;\r\n        break;\r\n    }\r\n    offset *= add ? 1 : -1;\r\n    updateScore(college, offset);\r\n  };\r\n\r\n  const styles = `p-2 ${\r\n    add ? 'bg-green-500 hover:bg-green-700' : 'bg-red-500 hover:bg-red-700'\r\n  }`;\r\n  return (\r\n    <button className={styles} onClick={changeScore}>\r\n      {add ? '+' : '-'}\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction Dropdown({\r\n  options,\r\n  onChange,\r\n}: {\r\n  options: string[];\r\n  onChange?: (value: string) => void;\r\n}) {\r\n  const [isOpen, setIsOpen] = useState<boolean>(false);\r\n  const [selected, setSelected] = useState<string>(options[0]);\r\n\r\n  const handleSelect = (option: string) => {\r\n    setSelected(option);\r\n    setIsOpen(false);\r\n    if (onChange) onChange(option);\r\n  };\r\n\r\n  return (\r\n    <div className='relative w-64'>\r\n      {/* Dropdown button */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className='w-full p-2 bg-white border rounded flex justify-between items-center'\r\n      >\r\n        <span>{selected}</span>\r\n      </button>\r\n\r\n      {/* Dropdown menu */}\r\n      {isOpen && (\r\n        <div className='overflow-visible absolute z-50 w-full mt-1 bg-white border rounded shadow'>\r\n          <ul>\r\n            {options.map((option) => (\r\n              <li\r\n                key={option}\r\n                className='p-2 hover:bg-gray-100 cursor-pointer'\r\n                onClick={() => handleSelect(option)}\r\n              >\r\n                {option}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport ControlView from './ControlView.tsx';\r\nimport './index.css';\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <ControlView />\r\n  </React.StrictMode>\r\n);\r\n"],"names":["useState","useEffect","jsxs","jsx","ReactDOM"],"mappings":"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"}